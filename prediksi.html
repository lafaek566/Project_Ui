<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Live Prediksi - Mola Fight Club</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <style>
      body {
        background-color: #000;
        font-family: "Segoe UI", sans-serif;
        color: white;
      }

      .navbar {
        background-color: #000;
      }

      .navbar .nav-link,
      .navbar .navbar-brand {
        color: #fff !important;
        font-weight: 500;
      }

      .navbar-sub {
        background-color: #e5d8b0;
        border: 2px solid #cc5500;
        box-shadow: 0 0 20px #cc5500;
        border-radius: 6px;
      }

      .navbar-sub .nav-link {
        padding: 0.25rem 0.8rem;
        font-weight: 500;
        color: #000 !important;
        white-space: nowrap;
      }

      .card-fight-container {
        background-color: #1c1c1c;
        border-radius: 12px;
        padding: 16px;
        margin-bottom: 30px;
        box-shadow: 0 4px 12px rgba(255, 255, 255, 0.05);
        transition: transform 0.3s ease;
      }

      .card-fight-container:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 18px rgba(255, 255, 255, 0.1);
      }

      .fighter-img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 50%;
      }

      .btn-krem {
        background-color: #e5d8b0;
        color: #000;
        font-weight: bold;
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
      }

      .btn-krem:hover {
        background-color: #d6c89e;
        color: #000;
      }

      #loadingOverlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.6);
        display: none;
        z-index: 9999;
        justify-content: center;
        align-items: center;
        color: black;
        font-size: 1.2rem;
      }

      .spinner-border {
        width: 3rem;
        height: 3rem;
      }

      .modal-content {
        background-color: #000;
        color: white;
        border: 1px solid #222;
      }

      .modal-body {
        background-color: #000;
      }

      .btn-success {
        background-color: #28a745;
        border-color: #28a745;
      }

        .footer {
        background-color: #000000;
        color: white;
        padding: 30px 0;
        text-align: center;
      }

      .footer img.store-badge {
        width: 150px;
        margin: 10px;
      }
    </style>
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container">
        <a class="navbar-brand" href="index.html">Mola Fight Club</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarMain"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMain">
          <ul class="navbar-nav mx-auto text-center">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Beranda</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="prediksi.html">Prediksi</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="tonton.html">Tonton</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="leaderboard.html">Peringkat</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="howtoplay.html">Cara Bermain</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="berita.html">Berita</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="faq.html">FAQ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="catalog.html">Tukar Poin</a>
            </li>
          </ul>
          <a class="btn btn-outline-light ml-3 d-none d-lg-block" href="#"
            >Login</a
          >
        </div>
      </div>
    </nav>

    <!-- Sub-navbar -->
    <nav class="navbar navbar-sub">
      <div class="container">
        <div class="navbar-nav w-100 justify-content-center flex-row flex-wrap">
          <a class="nav-link nav-item" href="index.html">Beranda</a>
          <a class="nav-link nav-item" href="howtoplay.html">Cara Bermain</a>
          <a class="nav-link nav-item" href="catalog.html">Tukar Poin</a>
          <a class="nav-link nav-item" href="leaderboard.html">Peringkat</a>
          <a class="nav-link nav-item" href="faq.html">FAQ</a>
          <a class="nav-link nav-item" href="tonton.html">Tonton</a>
          <a
            class="nav-link nav-item text-danger font-weight-bold"
            href="prediksi.html"
            >🔴 Live Prediksi Sekarang</a
          >
        </div>
      </div>
    </nav>

    <div class="container my-5">
      <h2 class="text-center mb-4">Prediksi Pertandingan</h2>
      <form id="formPrediksi">
        <!-- Fight Cards go here -->

        <!-- Match 1 -->
        <div class="card-fight-container">
          <div class="row text-center">
            <div class="col-md-4">
              <img
                src="https://i.pinimg.com/736x/46/aa/d6/46aad64828793b5bdbfc353916a37e4b.jpg"
                class="fighter-img mb-2"
              />
              <div><strong>Fighter Alpha</strong></div>
              <input type="radio" name="fight1" value="Alpha" />
            </div>
            <div
              class="col-md-4 d-flex align-items-center justify-content-center"
            >
              <strong>VS</strong>
            </div>
            <div class="col-md-4">
              <img
                src="https://i.pinimg.com/736x/c8/bb/48/c8bb48dc2f8b6f67209da64a8dae6bb7.jpg"
                class="fighter-img mb-2"
              />
              <div><strong>Fighter Bravo</strong></div>
              <input type="radio" name="fight1" value="Bravo" />
            </div>
          </div>
        </div>

        <!-- Match 2 -->
        <div class="card-fight-container">
          <div class="row text-center">
            <div class="col-md-4">
              <img
                src="https://i.pinimg.com/736x/3b/ca/36/3bca369ee4817b46cece60c769920bcb.jpg"
                class="fighter-img mb-2"
              />
              <div><strong>Fighter Cobra</strong></div>
              <input type="radio" name="fight2" value="Cobra" />
            </div>
            <div
              class="col-md-4 d-flex align-items-center justify-content-center"
            >
              <strong>VS</strong>
            </div>
            <div class="col-md-4">
              <img
                src="https://i.pinimg.com/736x/2e/62/7a/2e627abbb80cf2b75567ff0a1eda4057.jpg"
                class="fighter-img mb-2"
              />
              <div><strong>Fighter Dragon</strong></div>
              <input type="radio" name="fight2" value="Dragon" />
            </div>
          </div>
        </div>

        <!-- Match 3 -->
        <div class="card-fight-container">
          <div class="row text-center">
            <div class="col-md-4">
              <img
                src="https://i.pinimg.com/736x/42/69/39/4269390d0eec033d636e2ae4d259759b.jpg"
                class="fighter-img mb-2"
              />
              <div><strong>Fighter Zen</strong></div>
              <input type="radio" name="fight2" value="Cobra" />
            </div>
            <div
              class="col-md-4 d-flex align-items-center justify-content-center"
            >
              <strong>VS</strong>
            </div>
            <div class="col-md-4">
              <img
                src="https://i.pinimg.com/736x/dd/b8/5b/ddb85bb8c10059680de5ee80ab0f17d4.jpg"
                class="fighter-img mb-2"
              />
              <div><strong>Fighter Pain</strong></div>
              <input type="radio" name="fight2" value="Dragon" />
            </div>
          </div>
        </div>

        <div class="text-center mt-4">
          <button
            type="button"
            class="btn btn-krem btn-lg"
            onclick="kirimSemuaPrediksi()"
          >
            Kirim Semua Prediksi
          </button>
        </div>
      </form>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay">
      <div class="text-center">
        <div class="spinner-border text-warning mb-3" role="status"></div>
        <div>Mengirim prediksi...</div>
      </div>
    </div>

    <!-- Modal Notifikasi -->
    <div
      class="modal fade"
      id="modalNotif"
      tabindex="-1"
      role="dialog"
      aria-labelledby="modalNotifLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content text-center">
          <div class="modal-body py-4 px-3">
            <p id="modalNotifPesan" class="lead"></p>
            <button
              type="button"
              class="btn btn-success mt-2"
              data-dismiss="modal"
            >
              Oke!
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p>Unduh Aplikasi Kami di:</p>
        <a href="https://play.google.com/store" target="_blank">
          <img
            class="store-badge"
            src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg"
          />
        </a>
        <a href="https://www.apple.com/app-store/" target="_blank">
          <img
            class="store-badge"
            src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg"
          />
        </a>
        <p class="mt-3 mb-0">© 2025 Mola Fight Club. All rights reserved.</p>
      </div>
    </footer>

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
      function kirimSemuaPrediksi() {
        const hasil = [];
        const prediksiPayload = {};
        const totalFight = 2;
        let semuaDipilih = true;

        for (let i = 1; i <= totalFight; i++) {
          const pilihan = document.querySelector(
            `input[name="fight${i}"]:checked`
          );
          if (pilihan) {
            hasil.push(`🟢 Pertarungan ${i}: ${pilihan.value}`);
            prediksiPayload[`fight${i}`] = pilihan.value;
          } else {
            hasil.push(`🔴 Pertarungan ${i}: Belum dipilih`);
            semuaDipilih = false;
          }
        }

        if (!semuaDipilih) {
          alert("⚠️ Harap pilih semua pertarungan sebelum mengirim.");
          return;
        }

        const konfirmasi = confirm(
          "Konfirmasi Pilihan:\n\n" + hasil.join("\n") + "\n\nKirim sekarang?"
        );
        if (!konfirmasi) return;

        document.getElementById("loadingOverlay").style.display = "flex";

        fetch("https://your-backend-api.com/api/prediksi", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(prediksiPayload),
        })
          .then((res) => {
            if (!res.ok) throw new Error("Gagal mengirim prediksi.");
            return res.json();
          })
          .then((data) => {
            document.getElementById("loadingOverlay").style.display = "none";
            tampilkanNotifikasi("✅ Prediksi berhasil dikirim!");
          })
          .catch((err) => {
            document.getElementById("loadingOverlay").style.display = "none";
            tampilkanNotifikasi("❌ Terjadi kesalahan saat mengirim prediksi.");
            console.error(err);
          });
      }

      function tampilkanNotifikasi(pesan) {
        document.getElementById("modalNotifPesan").innerText = pesan;
        $("#modalNotif").modal("show");
      }
    </script>
  </body>
</html>
